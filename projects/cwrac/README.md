# 尺规作图
cwrac, construction with ruler and compasses


## 一、基本工具
不同的工具对鼠标事件响应不一样？鼠标的点击、释放
1. 点 draw_point
    用户手动绘制的点带A,B,C这样的文本标记
    遍历所有手绘点、取最后一个，根据最后一个，设置文本。
2. 直线 draw_line
3. 圆 draw_arc
4. 相交点
 * 直线和直线   calc_line2_intersect_point
 * 直线和圆 calc_line_circle_intersect_points
 * 圆和圆   calc_circle2_intersect_points


### 二、细节：高亮、磁吸、去重、移动
1. 高亮
 * 绘制过程中，当前绘制对象高亮；  
 * 当用户鼠标停留在线上、交点上，高亮。
2. 磁吸：靠近点、靠近直线线或圆时，自动磁吸至该位置，防止用户误操作。  
 * 磁吸到点
 * 磁吸到线， 点/线的磁吸逻辑整合在一起？ 直线容易，圆,x-y可能没落在圆周上【TODO】
    正在画的线与已经存在的交点，接近某个值？ 鼠标所在点与线的垂直距离？
3. 去重：
 * 点去重 - 相同的位置画2个点(x,y距离)，磁吸功能已变相解决该问题。
 * 线去重 - 2条线(w,b的差值),线段覆盖的问题，2个圆(x,y,radius)，应去重？【HOLD】
4. 误操作: 直线距离过短，圆半径过短，不生效
5. 撤销/重做
6. 移动：
7. 缩放：【HOLD】 
8. 点击2下(等同拖拽效果)绘图？
9. 持久化：即使刷新，也不会清除已绘制的内容？【TODO】


## 三、高级工具 【TODO】
高级工具作用加速作图效率，前提是懂得如何使用基本工具达到高级工具的效果，因此，需用户逐步解锁。
1. 垂直平分线 (先确定平分点[x,y]，两直线垂直，它们的斜率相乘等于负一，a_new = -1/(a), 求b)
    斜率已知，线段中点坐标，根据中点坐标、求b，只画直线？
2. 角平分线 ？
3. 过线外一点作垂线， (两直线垂直，它们的斜率相乘等于负一,斜率为0的情况？[x,y]已知，两直线垂直，它们的斜率相乘等于负一)
    斜率已知，根据x,y点求b
4. 平行线 y=ax+b, a,x,y已知，求b=y-ax，容易
5. 圆规, 先选取2点确定半径，第3个点为圆心，容易


## 四、其他: 【TODO】
1. 关卡设计
2. 用户操作记录保存,上传？
1. 操作步骤回放，录制视频？
4. 配色等UI优化


## 五、渠道&推广
基本功能搞完后，可以先发布一版？
1. 微信小程序
    https://developers.weixin.qq.com/miniprogram/dev/framework/
2. 头条小程序
    https://developer.toutiao.com/docs/
3. 手百小程序
    https://smartprogram.baidu.com/docs/develop/tutorial/codedir/
4. 独立网页
5. Android App
6. Windows App
7. iOS 


## 六、总结
1. 程序采用MVC结构，model-数据-用户的绘图对象，view-render,将用户绘制对象展现出来，control-鼠标事件，将事件操作结果转换为数据m
* M: 点、线、圆类，有一个数组，用于记录每个步骤干嘛,
* C: 事件响应，鼠标的点击、释放, event_binding,
* V: 渲染 render